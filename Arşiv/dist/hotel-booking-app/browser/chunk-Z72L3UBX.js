import{a as L,b as u,c as T,d as q,e as z,f as A,g as V,h as O,i as D,j as G,k as j,l as U}from"./chunk-APSOTAXX.js";import{a as B}from"./chunk-K23T45BH.js";import{$ as l,C as S,J as n,K as v,O as d,P as s,R as g,S as t,T as e,U as p,W as _,X as f,a as h,b as E,ba as m,c as w,ea as k,ja as C,ka as N,la as I,ua as P,va as R,w as F,xa as M}from"./chunk-47E5XFJY.js";function H(i,c){if(i&1&&(t(0,"div",34),l(1),e()),i&2){let o=f();n(),m(" ",o.errorMessage," ")}}function $(i,c){if(i&1&&(t(0,"div",35),l(1),e()),i&2){let o=f();n(),m(" ",o.getFieldError("firstName")," ")}}function K(i,c){if(i&1&&(t(0,"div",35),l(1),e()),i&2){let o=f();n(),m(" ",o.getFieldError("lastName")," ")}}function Z(i,c){if(i&1&&(t(0,"div",35),l(1),e()),i&2){let o=f();n(),m(" ",o.getFieldError("email")," ")}}function J(i,c){if(i&1&&(t(0,"div",35),l(1),e()),i&2){let o=f();n(),m(" ",o.getFieldError("password")," ")}}function Q(i,c){if(i&1&&(t(0,"div",35),l(1),e()),i&2){let o=f();n(),m(" ",o.getFieldError("confirmPassword")," ")}}function W(i,c){if(i&1&&(t(0,"div",35),l(1),e()),i&2){let o=f();n(),m(" ",o.getFieldError("city")," ")}}function X(i,c){if(i&1&&(t(0,"option",36),l(1),e()),i&2){let o=c.$implicit;s("value",o),n(),m(" ",o," ")}}function Y(i,c){if(i&1&&(t(0,"div",35),l(1),e()),i&2){let o=f();n(),m(" ",o.getFieldError("country")," ")}}function ee(i,c){i&1&&(t(0,"span",37),S(),t(1,"svg",38),p(2,"circle",39)(3,"path",40),e()())}var de=(()=>{class i{constructor(o,a,r){this.fb=o,this.authService=a,this.router=r,this.isLoading=!1,this.errorMessage="",this.countries=["T\xFCrkiye","ABD","Almanya","Fransa","\u0130ngiltere","\u0130talya","\u0130spanya","Hollanda","Bel\xE7ika","Avusturya","\u0130svi\xE7re","Kanada","Avustralya"]}ngOnInit(){this.initForm(),this.authService.isLoggedIn()&&this.router.navigate(["/"])}initForm(){this.registerForm=this.fb.group({firstName:["",[u.required,u.minLength(2)]],lastName:["",[u.required,u.minLength(2)]],email:["",[u.required,u.email]],password:["",[u.required,this.passwordValidator]],confirmPassword:["",[u.required]],city:["",[u.required]],country:["",[u.required]],photoUrl:[""]},{validators:this.passwordMatchValidator})}passwordValidator(o){let a=o.value;if(!a)return null;let r=a.length>=8,x=/\d/.test(a),b=/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(a);return!r||!x||!b?{passwordRequirements:!0}:null}passwordMatchValidator(o){let a=o.get("password"),r=o.get("confirmPassword");return!a||!r||a.value===r.value?null:{passwordMismatch:!0}}onSubmit(){if(this.registerForm.invalid){this.markFormGroupTouched();return}this.isLoading=!0,this.errorMessage="";let b=this.registerForm.value,{confirmPassword:a}=b,r=w(b,["confirmPassword"]),x=E(h({},r),{name:`${r.firstName} ${r.lastName}`,photo_url:r.photoUrl||""});this.authService.register(x).subscribe({next:y=>{this.isLoading=!1,this.router.navigate(["/"])},error:y=>{this.isLoading=!1,this.errorMessage=y.message}})}markFormGroupTouched(){Object.keys(this.registerForm.controls).forEach(o=>{this.registerForm.get(o)?.markAsTouched()})}getFieldError(o){let a=this.registerForm.get(o);if(a?.errors&&a.touched){if(a.errors.required)return"Bu alan zorunludur";if(a.errors.email)return"Ge\xE7erli bir email adresi girin";if(a.errors.minlength)return`En az ${a.errors.minlength.requiredLength} karakter olmal\u0131d\u0131r`;if(a.errors.passwordRequirements)return"\u015Eifre en az 8 karakter, 1 rakam ve 1 \xF6zel karakter i\xE7ermelidir"}return o==="confirmPassword"&&this.registerForm.errors?.passwordMismatch&&a?.touched?"\u015Eifreler e\u015Fle\u015Fmiyor":""}static{this.\u0275fac=function(a){return new(a||i)(v(j),v(B),v(P))}}static{this.\u0275cmp=F({type:i,selectors:[["app-register"]],standalone:!0,features:[k],decls:71,vars:27,consts:[[1,"min-h-screen","bg-gray-50","flex","flex-col","justify-center","py-12","sm:px-6","lg:px-8"],[1,"sm:mx-auto","sm:w-full","sm:max-w-md"],[1,"text-center"],[1,"text-3xl","font-bold","text-gray-900"],[1,"mt-2","text-sm","text-gray-600"],["routerLink","/login",1,"font-medium","text-blue-600","hover:text-blue-500"],[1,"mt-8","sm:mx-auto","sm:w-full","sm:max-w-md"],[1,"bg-white","py-8","px-4","shadow","sm:rounded-lg","sm:px-10"],["class","mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",4,"ngIf"],[1,"space-y-6",3,"ngSubmit","formGroup"],[1,"grid","grid-cols-1","gap-6","sm:grid-cols-2"],["for","firstName",1,"block","text-sm","font-medium","text-gray-700"],[1,"mt-1"],["id","firstName","name","firstName","type","text","formControlName","firstName","placeholder","Ad\u0131n\u0131z",1,"appearance-none","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","placeholder-gray-400","focus:outline-none","focus:ring-blue-500","focus:border-blue-500","sm:text-sm"],["class","mt-1 text-sm text-red-600",4,"ngIf"],["for","lastName",1,"block","text-sm","font-medium","text-gray-700"],["id","lastName","name","lastName","type","text","formControlName","lastName","placeholder","Soyad\u0131n\u0131z",1,"appearance-none","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","placeholder-gray-400","focus:outline-none","focus:ring-blue-500","focus:border-blue-500","sm:text-sm"],["for","email",1,"block","text-sm","font-medium","text-gray-700"],["id","email","name","email","type","email","formControlName","email","autocomplete","email","placeholder","ornek@email.com",1,"appearance-none","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","placeholder-gray-400","focus:outline-none","focus:ring-blue-500","focus:border-blue-500","sm:text-sm"],["for","password",1,"block","text-sm","font-medium","text-gray-700"],["id","password","name","password","type","password","formControlName","password","placeholder","En az 8 karakter, 1 rakam, 1 \xF6zel karakter",1,"appearance-none","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","placeholder-gray-400","focus:outline-none","focus:ring-blue-500","focus:border-blue-500","sm:text-sm"],["for","confirmPassword",1,"block","text-sm","font-medium","text-gray-700"],["id","confirmPassword","name","confirmPassword","type","password","formControlName","confirmPassword","placeholder","\u015Eifrenizi tekrar girin",1,"appearance-none","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","placeholder-gray-400","focus:outline-none","focus:ring-blue-500","focus:border-blue-500","sm:text-sm"],["for","city",1,"block","text-sm","font-medium","text-gray-700"],["id","city","name","city","type","text","formControlName","city","placeholder","\u015Eehriniz",1,"appearance-none","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","placeholder-gray-400","focus:outline-none","focus:ring-blue-500","focus:border-blue-500","sm:text-sm"],["for","country",1,"block","text-sm","font-medium","text-gray-700"],["id","country","name","country","formControlName","country",1,"appearance-none","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","placeholder-gray-400","focus:outline-none","focus:ring-blue-500","focus:border-blue-500","sm:text-sm"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","photoUrl",1,"block","text-sm","font-medium","text-gray-700"],[1,"text-gray-500"],["id","photoUrl","name","photoUrl","type","url","formControlName","photoUrl","placeholder","https://example.com/photo.jpg",1,"appearance-none","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","placeholder-gray-400","focus:outline-none","focus:ring-blue-500","focus:border-blue-500","sm:text-sm"],["type","submit",1,"group","relative","w-full","flex","justify-center","py-2","px-4","border","border-transparent","text-sm","font-medium","rounded-md","text-white","bg-blue-600","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"],["class","absolute left-0 inset-y-0 flex items-center pl-3",4,"ngIf"],[1,"mb-4","p-3","bg-red-100","border","border-red-400","text-red-700","rounded"],[1,"mt-1","text-sm","text-red-600"],[3,"value"],[1,"absolute","left-0","inset-y-0","flex","items-center","pl-3"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","h-5","w-5","text-white"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"]],template:function(a,r){a&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),l(4," Hesap Olu\u015Fturun "),e(),t(5,"p",4),l(6," Zaten hesab\u0131n\u0131z var m\u0131? "),t(7,"a",5),l(8," Giri\u015F yap\u0131n "),e()()()(),t(9,"div",6)(10,"div",7),d(11,H,2,1,"div",8),t(12,"form",9),_("ngSubmit",function(){return r.onSubmit()}),t(13,"div",10)(14,"div")(15,"label",11),l(16," Ad "),e(),t(17,"div",12),p(18,"input",13),e(),d(19,$,2,1,"div",14),e(),t(20,"div")(21,"label",15),l(22," Soyad "),e(),t(23,"div",12),p(24,"input",16),e(),d(25,K,2,1,"div",14),e()(),t(26,"div")(27,"label",17),l(28," Email Adresi "),e(),t(29,"div",12),p(30,"input",18),e(),d(31,Z,2,1,"div",14),e(),t(32,"div")(33,"label",19),l(34," \u015Eifre "),e(),t(35,"div",12),p(36,"input",20),e(),d(37,J,2,1,"div",14),e(),t(38,"div")(39,"label",21),l(40," \u015Eifre Tekrar "),e(),t(41,"div",12),p(42,"input",22),e(),d(43,Q,2,1,"div",14),e(),t(44,"div",10)(45,"div")(46,"label",23),l(47," \u015Eehir "),e(),t(48,"div",12),p(49,"input",24),e(),d(50,W,2,1,"div",14),e(),t(51,"div")(52,"label",25),l(53," \xDClke "),e(),t(54,"div",12)(55,"select",26)(56,"option",27),l(57,"\xDClke se\xE7in"),e(),d(58,X,2,2,"option",28),e()(),d(59,Y,2,1,"div",14),e()(),t(60,"div")(61,"label",29),l(62," Profil Foto\u011Fraf\u0131 URL "),t(63,"span",30),l(64,"(\u0130ste\u011Fe ba\u011Fl\u0131)"),e()(),t(65,"div",12),p(66,"input",31),e()(),t(67,"div")(68,"button",32),d(69,ee,4,0,"span",33),l(70),e()()()()()()),a&2&&(n(11),s("ngIf",r.errorMessage),n(),s("formGroup",r.registerForm),n(6),g("border-red-500",r.getFieldError("firstName")),n(),s("ngIf",r.getFieldError("firstName")),n(5),g("border-red-500",r.getFieldError("lastName")),n(),s("ngIf",r.getFieldError("lastName")),n(5),g("border-red-500",r.getFieldError("email")),n(),s("ngIf",r.getFieldError("email")),n(5),g("border-red-500",r.getFieldError("password")),n(),s("ngIf",r.getFieldError("password")),n(5),g("border-red-500",r.getFieldError("confirmPassword")),n(),s("ngIf",r.getFieldError("confirmPassword")),n(6),g("border-red-500",r.getFieldError("city")),n(),s("ngIf",r.getFieldError("city")),n(5),g("border-red-500",r.getFieldError("country")),n(3),s("ngForOf",r.countries),n(),s("ngIf",r.getFieldError("country")),n(9),s("disabled",r.isLoading),n(),s("ngIf",r.isLoading),n(),m(" ",r.isLoading?"Hesap olu\u015Fturuluyor...":"Hesap Olu\u015Ftur"," "))},dependencies:[I,C,N,U,z,D,G,L,O,T,q,A,V,M,R],styles:[".register-container[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2)}"]})}}return i})();export{de as RegisterComponent};
