import{a as A,c as z,d as G,e as P,f as $,g as L,h as B,i as j,j as R,k as Y,l as q}from"./chunk-APSOTAXX.js";import{a as K,b as W,c as J,d as X}from"./chunk-TJF4DHAN.js";import{a as Q}from"./chunk-K23T45BH.js";import{$ as r,A as v,B as _,C as y,D as E,I as k,J as o,K as x,O as p,P as l,Q as I,R as F,S as i,T as n,U as g,V as h,W as f,X as d,aa as b,ba as u,ca as C,ea as H,fa as M,ja as T,ka as O,la as U,ua as D,va as V,w,xa as N}from"./chunk-47E5XFJY.js";var Z=()=>[1,2,3,4,5];function ee(t,m){t&1&&(i(0,"div",38)(1,"a",39),r(2," Giri\u015F Yap "),n(),i(3,"a",40),r(4," Kay\u0131t Ol "),n()())}function te(t,m){if(t&1&&g(0,"img",46),t&2){let e=d(2);l("src",e.currentUser.photoUrl,k)("alt",e.currentUser.firstName)}}function ie(t,m){if(t&1&&(i(0,"div",47)(1,"span",48),r(2),n()()),t&2){let e=d(2);o(2),u(" ",(e.currentUser.firstName||e.currentUser.name||"U").charAt(0).toUpperCase()," ")}}function ne(t,m){if(t&1){let e=h();i(0,"div",7)(1,"div",41),p(2,te,1,2,"img",42)(3,ie,3,1,"div",43),i(4,"span",44),r(5),n()(),i(6,"button",45),f("click",function(){v(e);let a=d();return _(a.onLogout())}),r(7," \xC7\u0131k\u0131\u015F Yap "),n()()}if(t&2){let e=d();o(2),l("ngIf",e.currentUser.photoUrl),o(),l("ngIf",!e.currentUser.photoUrl),o(2),u(" ",e.currentUser.firstName&&e.currentUser.lastName?e.currentUser.firstName+" "+e.currentUser.lastName:e.currentUser.name||"User"," ")}}function re(t,m){if(t&1&&(i(0,"span"),r(1),n()),t&2){let e=d();o(),u("Ho\u015F geldiniz, ",e.currentUser.firstName,"!")}}function oe(t,m){t&1&&(i(0,"span"),r(1,"Otel Rezervasyonu"),n())}function ae(t,m){t&1&&(i(0,"span"),r(1,"Hayalinizdeki oteli bulun ve unutulmaz bir tatil ya\u015Fay\u0131n."),n())}function le(t,m){t&1&&(i(0,"span"),r(1,"Giri\u015F yap\u0131n ve \xF6zel \xFCye fiyatlar\u0131ndan yararlan\u0131n."),n())}function me(t,m){if(t&1&&(i(0,"option",49),r(1),n()),t&2){let e=m.$implicit;l("value",e),o(),b(e)}}function se(t,m){t&1&&(i(0,"span"),r(1,"Otel Ara"),n())}function de(t,m){t&1&&(i(0,"span"),r(1,"Aran\u0131yor..."),n())}function pe(t,m){t&1&&(i(0,"div",50)(1,"div",4)(2,"div",5),y(),i(3,"svg",51),g(4,"path",52),n()(),E(),i(5,"div",53)(6,"h3",54),r(7,"\xDCye Fiyatlar\u0131"),n(),i(8,"div",55)(9,"p"),r(10,"\xD6zel \xFCye fiyatlar\u0131ndan yararlanmak i\xE7in "),i(11,"a",56),r(12,"giri\u015F yap\u0131n"),n(),r(13," veya "),i(14,"a",57),r(15,"hesap olu\u015Fturun"),n(),r(16,"."),n()()()()())}function ue(t,m){if(t&1){let e=h();i(0,"map-marker",65),f("mapClick",function(){let a=v(e).$implicit,c=d(2);return _(c.onMarkerClick(a))}),n()}if(t&2){let e=m.$implicit,s=d(2);l("position",e.position)("options",s.markerOptions)("title",e.hotel.name+" - \u20BA"+e.hotel.price)}}function ce(t,m){if(t&1&&(i(0,"div",58)(1,"h3",59),r(2,"Harita G\xF6r\xFCn\xFCm\xFC"),n(),i(3,"div",60)(4,"google-map",61),p(5,ue,1,3,"map-marker",62),n()(),i(6,"div",63)(7,"p",64),r(8),n()()()),t&2){let e=d();o(4),l("options",e.mapOptions)("width","100%")("height","100%"),o(),l("ngForOf",e.hotelMarkers),o(3),u("",e.filteredHotels.length," otel g\xF6steriliyor")}}function ge(t,m){t&1&&(i(0,"div",66),g(1,"div",67),i(2,"p",68),r(3,"Oteller y\xFCkleniyor..."),n()())}function fe(t,m){if(t&1&&(i(0,"div",88),r(1),n()),t&2){let e=d().$implicit;o(),u(" %",e.discount.percentage," \u0130ndirim ")}}function xe(t,m){if(t&1&&(y(),i(0,"svg",89),g(1,"path",90),n()),t&2){let e=m.$implicit,s=d().$implicit;F("text-gray-300",e>s.rating)}}function ve(t,m){if(t&1&&(i(0,"span",91),r(1),n()),t&2){let e=m.$implicit;o(),u(" ",e," ")}}function _e(t,m){if(t&1&&(i(0,"span",92),r(1),n()),t&2){let e=d().$implicit;o(),u(" +",e.amenities.length-3," more ")}}function he(t,m){if(t&1&&(i(0,"span",96),r(1),n()),t&2){let e=d(2).$implicit;o(),u("\u20BA",e.discount.originalPrice,"")}}function ye(t,m){if(t&1&&(i(0,"div"),p(1,he,2,1,"span",93),i(2,"span",94),r(3),n(),i(4,"span",95),r(5,"/gece"),n()()),t&2){let e=d().$implicit;o(),l("ngIf",e.discount),o(2),u("\u20BA",e.price,"")}}function be(t,m){t&1&&(i(0,"div",64),r(1," \xDCye fiyat\u0131 i\xE7in giri\u015F yap\u0131n "),n())}function Ce(t,m){if(t&1){let e=h();i(0,"div",71)(1,"div",72),p(2,fe,2,1,"div",73),n(),i(3,"div",74)(4,"h3",75),r(5),n(),i(6,"p",76),r(7),n(),i(8,"div",77)(9,"div",78),p(10,xe,2,2,"svg",79),n(),i(11,"span",80),r(12),n()(),i(13,"div",81)(14,"div",82),p(15,ve,2,1,"span",83)(16,_e,2,1,"span",84),n()(),i(17,"div",85)(18,"div"),p(19,ye,6,2,"div",13)(20,be,2,0,"div",86),n(),i(21,"button",87),f("click",function(){let a=v(e).$implicit,c=d(2);return _(c.goToHotelDetail(a.id))}),r(22," Detaylar "),n()()()()}if(t&2){let e=m.$implicit,s=d(2);o(),I("background-image","url("+e.imageUrl+")"),o(),l("ngIf",e.discount),o(3),b(e.name),o(2),C("",e.city,", ",e.country,""),o(3),l("ngForOf",M(13,Z)),o(2),C("",e.rating," (",e.commentCount," de\u011Ferlendirme)"),o(3),l("ngForOf",e.amenities.slice(0,3)),o(),l("ngIf",e.amenities.length>3),o(3),l("ngIf",s.currentUser),o(),l("ngIf",!s.currentUser)}}function Se(t,m){if(t&1&&(i(0,"div",69),p(1,Ce,23,14,"div",70),n()),t&2){let e=d();o(),l("ngForOf",e.filteredHotels)}}function we(t,m){t&1&&(i(0,"div",66)(1,"div",97),r(2,"\u{1F3E8}"),n(),i(3,"h3",98),r(4,"Otel Bulunamad\u0131"),n(),i(5,"p",99),r(6,"Arama kriterlerinize uygun otel bulunamad\u0131. L\xFCtfen farkl\u0131 filtreler deneyin."),n()())}var Ne=(()=>{class t{constructor(e,s,a,c){this.authService=e,this.hotelService=s,this.fb=a,this.router=c,this.currentUser=null,this.hotels=[],this.filteredHotels=[],this.loading=!1,this.showMapView=!1,this.cities=["Istanbul","Ankara","Izmir","Antalya","Bursa","Nevsehir"],this.mapOptions={center:{lat:39.9334,lng:32.8597},zoom:6,mapTypeId:google.maps.MapTypeId.ROADMAP,styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]}]},this.markerOptions={draggable:!1},this.markerPositions=[],this.hotelMarkers=[];let S=new Date().toISOString().split("T")[0];this.searchForm=this.fb.group({city:[""],checkInDate:[S],checkOutDate:[S],guestCount:[1]})}ngOnInit(){this.authService.currentUser$.subscribe(e=>{this.currentUser=e}),this.loadHotels()}loadHotels(){this.loading=!0,this.currentUser?.country?this.hotelService.getHotelsByCountry(this.currentUser.country).subscribe(e=>{this.hotels=e.sort((s,a)=>a.rating-s.rating),console.log("Hotels loaded for country:",this.hotels),this.filteredHotels=this.hotels,this.updateMapMarkers(),this.loading=!1}):this.hotelService.getAvailableHotelsForWeekend().subscribe(e=>{this.hotels=e.sort((s,a)=>a.rating-s.rating),this.filteredHotels=this.hotels,this.updateMapMarkers(),this.loading=!1})}updateMapMarkers(){this.hotelMarkers=this.filteredHotels.map(e=>({position:{lat:e.coordinates.lat,lng:e.coordinates.lng},hotel:e})),this.markerPositions=this.hotelMarkers.map(e=>e.position)}onMarkerClick(e){this.goToHotelDetail(e.hotel.id)}onSearch(){let e=this.searchForm.value;this.router.navigate(["/search-results"],{queryParams:{city:e.city||void 0,checkInDate:e.checkInDate||void 0,checkOutDate:e.checkOutDate||void 0,guestCount:e.guestCount||void 0}})}toggleMapView(){this.showMapView=!this.showMapView}onLogout(){this.authService.logout()}goToHotelDetail(e){this.router.navigate(["/hotel",e])}static{this.\u0275fac=function(s){return new(s||t)(x(Q),x(X),x(Y),x(D))}}static{this.\u0275cmp=w({type:t,selectors:[["app-home"]],standalone:!0,features:[H],decls:64,vars:17,consts:[[1,"min-h-screen","bg-gray-50"],[1,"bg-white","shadow-sm","border-b"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"flex","justify-between","h-16"],[1,"flex","items-center"],[1,"flex-shrink-0"],[1,"text-xl","font-bold","text-blue-600"],[1,"flex","items-center","space-x-4"],["class","flex space-x-2",4,"ngIf"],["class","flex items-center space-x-4",4,"ngIf"],[1,"max-w-7xl","mx-auto","py-12","px-4","sm:px-6","lg:px-8"],[1,"text-center","mb-12"],[1,"text-4xl","font-bold","text-gray-900","mb-4"],[4,"ngIf"],[1,"text-lg","text-gray-600","mb-8"],[1,"bg-white","rounded-lg","shadow-md","p-8","mb-12"],[1,"text-2xl","font-semibold","text-gray-900","mb-6"],[1,"space-y-6",3,"ngSubmit","formGroup"],[1,"grid","grid-cols-1","md:grid-cols-4","gap-4"],[1,"block","text-sm","font-medium","text-gray-700","mb-2"],["formControlName","city",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500"],["value",""],[3,"value",4,"ngFor","ngForOf"],["type","date","formControlName","checkInDate",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500"],["type","date","formControlName","checkOutDate",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500"],["formControlName","guestCount",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500"],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],[1,"flex","flex-col","sm:flex-row","gap-4"],["type","submit",1,"flex-1","sm:flex-initial","bg-blue-600","text-white","px-8","py-3","rounded-md","font-medium","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-blue-500","disabled:opacity-50",3,"disabled"],["type","button",1,"flex-1","sm:flex-initial","bg-gray-200","text-gray-700","px-6","py-3","rounded-md","font-medium","hover:bg-gray-300","focus:outline-none","focus:ring-2","focus:ring-gray-500",3,"click"],["class","bg-blue-50 border border-blue-200 rounded-lg p-6 mb-8",4,"ngIf"],["class","bg-white rounded-lg shadow-md p-8 mb-8",4,"ngIf"],["class","text-center py-12",4,"ngIf"],["class","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",4,"ngIf"],[1,"flex","space-x-2"],["routerLink","/login",1,"bg-blue-600","text-white","px-4","py-2","rounded-md","text-sm","font-medium","hover:bg-blue-700"],["routerLink","/register",1,"bg-gray-200","text-gray-700","px-4","py-2","rounded-md","text-sm","font-medium","hover:bg-gray-300"],[1,"flex","items-center","space-x-2"],["class","h-8 w-8 rounded-full",3,"src","alt",4,"ngIf"],["class","h-8 w-8 rounded-full bg-blue-500 flex items-center justify-center",4,"ngIf"],[1,"text-gray-700","text-sm","font-medium"],[1,"bg-red-600","text-white","px-4","py-2","rounded-md","text-sm","font-medium","hover:bg-red-700",3,"click"],[1,"h-8","w-8","rounded-full",3,"src","alt"],[1,"h-8","w-8","rounded-full","bg-blue-500","flex","items-center","justify-center"],[1,"text-white","text-sm","font-medium"],[3,"value"],[1,"bg-blue-50","border","border-blue-200","rounded-lg","p-6","mb-8"],["fill","currentColor","viewBox","0 0 20 20",1,"h-5","w-5","text-blue-400"],["fill-rule","evenodd","d","M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule","evenodd"],[1,"ml-3"],[1,"text-sm","font-medium","text-blue-800"],[1,"mt-2","text-sm","text-blue-700"],["routerLink","/login",1,"font-medium","underline"],["routerLink","/register",1,"font-medium","underline"],[1,"bg-white","rounded-lg","shadow-md","p-8","mb-8"],[1,"text-xl","font-semibold","text-gray-900","mb-4"],[1,"h-96","rounded-lg","overflow-hidden","map-container"],[3,"options","width","height"],[3,"position","options","title","mapClick",4,"ngFor","ngForOf"],[1,"mt-4","text-center"],[1,"text-sm","text-gray-600"],[3,"mapClick","position","options","title"],[1,"text-center","py-12"],[1,"animate-spin","rounded-full","h-16","w-16","border-b-2","border-blue-600","mx-auto"],[1,"mt-4","text-gray-600"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6"],["class","bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow",4,"ngFor","ngForOf"],[1,"bg-white","rounded-lg","shadow-md","overflow-hidden","hover:shadow-lg","transition-shadow"],[1,"h-48","bg-cover","bg-center"],["class","bg-red-500 text-white px-3 py-1 rounded-br-lg inline-block",4,"ngIf"],[1,"p-6"],[1,"text-lg","font-semibold","text-gray-900","mb-2"],[1,"text-sm","text-gray-600","mb-2"],[1,"flex","items-center","mb-3"],[1,"flex","text-yellow-400"],["class","w-4 h-4 fill-current","viewBox","0 0 20 20",3,"text-gray-300",4,"ngFor","ngForOf"],[1,"ml-2","text-sm","text-gray-600"],[1,"mb-4"],[1,"flex","flex-wrap","gap-1"],["class","text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded",4,"ngFor","ngForOf"],["class","text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded",4,"ngIf"],[1,"flex","justify-between","items-center"],["class","text-sm text-gray-600",4,"ngIf"],[1,"bg-blue-600","text-white","px-4","py-2","rounded-md","text-sm","font-medium","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"click"],[1,"bg-red-500","text-white","px-3","py-1","rounded-br-lg","inline-block"],["viewBox","0 0 20 20",1,"w-4","h-4","fill-current"],["d","M10 15l-5.878 3.09 1.123-6.545L.489 6.91l6.572-.955L10 0l2.939 5.955 6.572.955-4.756 4.635 1.123 6.545z"],[1,"text-xs","bg-blue-100","text-blue-800","px-2","py-1","rounded"],[1,"text-xs","bg-gray-100","text-gray-600","px-2","py-1","rounded"],["class","text-sm text-gray-500 line-through",4,"ngIf"],[1,"text-2xl","font-bold","text-blue-600"],[1,"text-sm","text-gray-500"],[1,"text-sm","text-gray-500","line-through"],[1,"text-6xl","text-gray-300","mb-4"],[1,"text-xl","font-semibold","text-gray-900","mb-2"],[1,"text-gray-600"]],template:function(s,a){s&1&&(i(0,"div",0)(1,"nav",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h1",6),r(7,"Hotel Booking"),n()()(),i(8,"div",7),p(9,ee,5,0,"div",8)(10,ne,8,3,"div",9),n()()()(),i(11,"main",10)(12,"div",11)(13,"h1",12),p(14,re,2,1,"span",13)(15,oe,2,0,"span",13),n(),i(16,"p",14),p(17,ae,2,0,"span",13)(18,le,2,0,"span",13),n()(),i(19,"div",15)(20,"h2",16),r(21,"Otel Aray\u0131n"),n(),i(22,"form",17),f("ngSubmit",function(){return a.onSearch()}),i(23,"div",18)(24,"div")(25,"label",19),r(26,"\u015Eehir"),n(),i(27,"select",20)(28,"option",21),r(29,"T\xFCm \u015Eehirler"),n(),p(30,me,2,2,"option",22),n()(),i(31,"div")(32,"label",19),r(33,"Giri\u015F Tarihi"),n(),g(34,"input",23),n(),i(35,"div")(36,"label",19),r(37,"\xC7\u0131k\u0131\u015F Tarihi"),n(),g(38,"input",24),n(),i(39,"div")(40,"label",19),r(41,"Misafir Say\u0131s\u0131"),n(),i(42,"select",25)(43,"option",26),r(44,"1 Misafir"),n(),i(45,"option",27),r(46,"2 Misafir"),n(),i(47,"option",28),r(48,"3 Misafir"),n(),i(49,"option",29),r(50,"4 Misafir"),n(),i(51,"option",30),r(52,"5+ Misafir"),n()()()(),i(53,"div",31)(54,"button",32),p(55,se,2,0,"span",13)(56,de,2,0,"span",13),n(),i(57,"button",33),f("click",function(){return a.toggleMapView()}),r(58),n()()()(),p(59,pe,17,0,"div",34)(60,ce,9,5,"div",35)(61,ge,4,0,"div",36)(62,Se,2,1,"div",37)(63,we,7,0,"div",36),n()()),s&2&&(o(9),l("ngIf",!a.currentUser),o(),l("ngIf",a.currentUser),o(4),l("ngIf",a.currentUser),o(),l("ngIf",!a.currentUser),o(2),l("ngIf",a.currentUser),o(),l("ngIf",!a.currentUser),o(4),l("formGroup",a.searchForm),o(8),l("ngForOf",a.cities),o(24),l("disabled",a.loading),o(),l("ngIf",!a.loading),o(),l("ngIf",a.loading),o(2),u(" ",a.showMapView?"Liste G\xF6r\xFCn\xFCm\xFC":"Haritada G\xF6ster"," "),o(),l("ngIf",!a.currentUser),o(),l("ngIf",a.showMapView),o(),l("ngIf",a.loading),o(),l("ngIf",!a.loading&&!a.showMapView),o(),l("ngIf",!a.loading&&a.filteredHotels.length===0))},dependencies:[U,T,O,N,V,q,P,j,R,A,B,z,G,$,L,J,K,W],styles:[".map-container[_ngcontent-%COMP%]{border-radius:.5rem;overflow:hidden;box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f}google-map[_ngcontent-%COMP%]{border-radius:.5rem}.map-info-window[_ngcontent-%COMP%]{font-family:Inter,sans-serif;max-width:200px}.map-info-window[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 4px;font-weight:600;color:#1f2937}.map-info-window[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#6b7280;font-size:12px}"]})}}return t})();export{Ne as HomeComponent};
