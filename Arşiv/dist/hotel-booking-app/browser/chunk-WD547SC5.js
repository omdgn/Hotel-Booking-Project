import{a as Z,b as I,c as J,d as Q,e as W,f as X,g as ee,k as te,l as ie}from"./chunk-APSOTAXX.js";import{a as ne,b as oe,c as re,d as ae}from"./chunk-TJF4DHAN.js";import{a as le}from"./chunk-K23T45BH.js";import{$ as a,A as u,B as p,C as f,D as v,I as H,J as l,O as h,P as s,Q as N,R as G,S as n,T as r,U as x,V as b,W as g,X as c,a as z,aa as _,b as O,ba as y,ca as E,ea as j,fa as L,g as C,i as D,ja as P,k as F,ka as B,la as Y,m as S,na as $,pa as K,q as M,sa as U,t as A,u as k,ua as q,w as R}from"./chunk-47E5XFJY.js";var w=[{id:"comment-1",userId:"user-1",userName:"Ahmet Y\u0131lmaz",rating:5,text:"M\xFCkemmel bir otel! Hizmet kalitesi harika, oda temizli\u011Fi \xE7ok iyi.",date:"2024-12-15"},{id:"comment-2",userId:"user-2",userName:"Fatma Kaya",rating:4,text:"Konum \xE7ok g\xFCzel, \u0130stanbul manzaras\u0131 harika. Kahvalt\u0131 zengin.",date:"2024-12-10"},{id:"comment-9",userId:"user-6",userName:"Elif Y\u0131ld\u0131z",rating:5,text:"Personel \xE7ok ilgili ve g\xFCler y\xFCzl\xFC. Tekrar tercih ederim.",date:"2024-12-05"},{id:"comment-3",userId:"user-3",userName:"Mehmet \xD6z",rating:4,text:"\u0130\u015F seyahati i\xE7in ideal. Temiz ve konforlu.",date:"2024-12-08"},{id:"comment-10",userId:"user-7",userName:"O\u011Fuz Kaan",rating:4,text:"Merkezi konumda, toplant\u0131 salonlar\u0131 \xE7ok kullan\u0131\u015Fl\u0131.",date:"2024-12-03"},{id:"comment-4",userId:"user-4",userName:"Zeynep Demir",rating:5,text:"Deniz manzaras\u0131 muhte\u015Fem! Spa hizmetleri \xE7ok kaliteli.",date:"2024-12-12"},{id:"comment-5",userId:"user-5",userName:"Can Arslan",rating:4,text:"Havuz alan\u0131 \xE7ok g\xFCzel, \xE7ocuklar \xE7ok e\u011Flendi.",date:"2024-12-09"},{id:"comment-11",userId:"user-1",userName:"Ahmet Y\u0131lmaz",rating:5,text:"Plaj temiz, aktiviteler \xE7e\u015Fitli. Aile i\xE7in harika.",date:"2024-12-01"},{id:"comment-6",userId:"user-6",userName:"Elif Y\u0131ld\u0131z",rating:5,text:"L\xFCks bir tatil i\xE7in m\xFCkemmel! Her \u015Fey harika.",date:"2024-12-14"},{id:"comment-12",userId:"user-2",userName:"Fatma Kaya",rating:5,text:"Otel ger\xE7ekten \xE7ok l\xFCks, hizmet kalitesi m\xFCkemmel.",date:"2024-12-07"},{id:"comment-13",userId:"user-4",userName:"Zeynep Demir",rating:4,text:"Yemekler \xE7ok lezzetli, \xE7ocuk kul\xFCb\xFC harika.",date:"2024-12-02"},{id:"comment-7",userId:"user-7",userName:"O\u011Fuz Kaan",rating:4,text:"Do\u011Fa i\xE7inde huzurlu bir konaklama.",date:"2024-12-11"},{id:"comment-14",userId:"user-3",userName:"Mehmet \xD6z",rating:4,text:"\u015Eehir stresinden uzakla\u015Fmak i\xE7in ideal.",date:"2024-12-06"},{id:"comment-8",userId:"user-8",userName:"Selin \xD6zkan",rating:5,text:"Kapadokya deneyimi i\xE7in harika bir otel! Ma\u011Fara odalar\u0131 \xE7ok \xF6zel.",date:"2024-12-13"},{id:"comment-15",userId:"user-5",userName:"Can Arslan",rating:5,text:"Balon turu unutulmaz bir deneyimdi! Otel de \xE7ok g\xFCzel.",date:"2024-12-04"},{id:"comment-16",userId:"user-1",userName:"Ahmet Y\u0131lmaz",rating:4,text:"Otantik bir deneyim, ma\u011Fara odalar\u0131 \xE7ok ilgin\xE7.",date:"2024-11-28"}];var se=(()=>{class o{constructor(e){this.http=e,this.API_URL="https://web-finalproject-ub2x.onrender.com",this.TOKEN_KEY="authToken"}getAuthHeaders(){let e=localStorage.getItem(this.TOKEN_KEY);return new $({"Content-Type":"application/json",Authorization:e?`Bearer ${e}`:""})}getCommentsByHotelId(e){return this.http.get(`${this.API_URL}/comments/${e}`).pipe(D(i=>i.map(t=>({id:t.id?.toString()||"comment-"+Date.now(),userId:t.user_id?.toString()||"unknown",userName:"User",rating:t.rating||5,text:t.text||"",date:t.created_at?new Date(t.created_at).toISOString().split("T")[0]:new Date().toISOString().split("T")[0]}))),F(()=>{let i=w.filter(t=>t.userId===e||t.id.includes(e));return C(i)}))}getAllComments(){return C(w).pipe(S(300))}getCommentById(e){let i=w.find(t=>t.id===e);return C(i).pipe(S(200))}getCommentsByUserId(e){let i=w.filter(t=>t.userId===e);return C(i).pipe(S(300))}addComment(e,i){let t=this.getAuthHeaders();return this.http.post(`${this.API_URL}/comments/${e}`,i,{headers:t}).pipe(D(d=>({id:d.id?.toString()||"comment-"+Date.now(),userId:d.user_id?.toString()||"unknown",userName:"User",rating:d.rating||i.rating,text:d.text||i.text,date:d.created_at?new Date(d.created_at).toISOString().split("T")[0]:new Date().toISOString().split("T")[0]})),F(()=>{let d={id:"comment-"+Date.now(),userId:"user-1",userName:"Current User",rating:i.rating,text:i.text,date:new Date().toISOString().split("T")[0]};return w.push(d),C(d)}))}getLatestComments(e=10){let i=[...w].sort((t,d)=>new Date(d.date).getTime()-new Date(t.date).getTime()).slice(0,e);return C(i).pipe(S(300))}getRatingStats(e){let i=w,t=i.length,d=i.reduce((T,ce)=>T+ce.rating,0)/t,V={1:0,2:0,3:0,4:0,5:0};i.forEach(T=>{V[T.rating]++});let me={averageRating:Math.round(d*10)/10,totalComments:t,ratingDistribution:V};return C(me).pipe(S(300))}static{this.\u0275fac=function(i){return new(i||o)(A(K))}}static{this.\u0275prov=M({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();var ue=()=>[1,2,3,4,5];function pe(o,m){o&1&&(n(0,"div",4),x(1,"div",5),r())}function ge(o,m){o&1&&(n(0,"span",54),a(1,"\u2605"),r())}function he(o,m){o&1&&(n(0,"span",55),a(1,"\u2605"),r())}function xe(o,m){if(o&1&&(n(0,"span",59),a(1),r()),o&2){let e=c(3);l(),y(" \u20BA",e.hotel.discount.originalPrice," ")}}function _e(o,m){if(o&1&&(n(0,"div",26),h(1,xe,2,1,"span",56),n(2,"span",57),a(3),r(),n(4,"span",58),a(5,"/ night"),r()()),o&2){let e=c(2);l(),s("ngIf",e.hotel.discount),l(2),y("\u20BA",e.hotel.price,"")}}function fe(o,m){o&1&&(n(0,"div",60),a(1," \xDCye fiyat\u0131 i\xE7in giri\u015F yap\u0131n "),r())}function ve(o,m){if(o&1&&(n(0,"div",26)(1,"span",68),a(2),r(),n(3,"div",69),x(4,"div",70),r(),n(5,"span",71),a(6),r()()),o&2){let e=m.$implicit;l(2),y("",e.stars,"\u2605"),l(2),N("width",e.percentage,"%"),l(2),_(e.count)}}function be(o,m){if(o&1){let e=b();n(0,"div",61),g("click",function(){u(e);let t=c(2);return p(t.toggleRatingChart())}),n(1,"div",62),g("click",function(t){return u(e),p(t.stopPropagation())}),n(2,"div",45)(3,"h3",63),a(4,"Rating Breakdown"),r(),n(5,"button",64),g("click",function(){u(e);let t=c(2);return p(t.toggleRatingChart())}),f(),n(6,"svg",22),x(7,"path",65),r()()(),v(),n(8,"div",66),h(9,ve,7,4,"div",67),r()()()}if(o&2){let e=c(2);l(9),s("ngForOf",e.ratingDistribution)}}function ye(o,m){if(o&1&&(n(0,"div",72)(1,"div",73),f(),n(2,"svg",74),x(3,"path",75),r()(),v(),n(4,"span",76),a(5),r()()),o&2){let e=m.$implicit;l(5),_(e)}}function Ce(o,m){if(o&1){let e=b();n(0,"button",77),g("click",function(){u(e);let t=c(2);return p(t.toggleCommentForm())}),a(1),r()}if(o&2){let e=c(2);l(),y(" ",e.showCommentForm?"\u0130ptal":"Yorum Yap"," ")}}function we(o,m){if(o&1){let e=b();n(0,"button",78),g("click",function(){u(e);let t=c(2);return p(t.toggleCommentForm())}),a(1," Yorum yapmak i\xE7in giri\u015F yap\u0131n "),r()}}function ke(o,m){if(o&1){let e=b();n(0,"button",92),g("click",function(){let t=u(e).$implicit,d=c(3);return p(d.setRating(t))}),a(1," \u2605 "),r()}if(o&2){let e=m.$implicit,i=c(3);G("text-yellow-400",e<=i.commentForm.value.rating)("text-gray-300",e>i.commentForm.value.rating)}}function Se(o,m){o&1&&(n(0,"div",93),a(1," Yorum yazmas\u0131 zorunludur. "),r())}function Ie(o,m){o&1&&(n(0,"div",93),a(1," Yorum en az 10 karakter olmal\u0131d\u0131r. "),r())}function He(o,m){o&1&&(n(0,"span",94),f(),n(1,"svg",95),x(2,"circle",96)(3,"path",97),r(),a(4," G\xF6nderiliyor... "),r())}function Ee(o,m){o&1&&(n(0,"span"),a(1,"Yorum G\xF6nder"),r())}function Te(o,m){if(o&1){let e=b();n(0,"div",79)(1,"h3",80),a(2,"Yorumunuzu yaz\u0131n"),r(),n(3,"form",81),g("ngSubmit",function(){u(e);let t=c(2);return p(t.submitComment())}),n(4,"div",82)(5,"label",83),a(6,"Puan"),r(),n(7,"div",84),h(8,ke,2,4,"button",85),r()(),n(9,"div",82)(10,"label",83),a(11,"Yorumunuz"),r(),x(12,"textarea",86),h(13,Se,2,0,"div",87)(14,Ie,2,0,"div",87),r(),n(15,"div",88)(16,"button",89),h(17,He,5,0,"span",90)(18,Ee,2,0,"span",91),r()()()()}if(o&2){let e,i,t=c(2);l(3),s("formGroup",t.commentForm),l(5),s("ngForOf",L(7,ue)),l(5),s("ngIf",((e=t.commentForm.get("text"))==null||e.errors==null?null:e.errors.required)&&((e=t.commentForm.get("text"))==null?null:e.touched)),l(),s("ngIf",((i=t.commentForm.get("text"))==null||i.errors==null?null:i.errors.minlength)&&((i=t.commentForm.get("text"))==null?null:i.touched)),l(2),s("disabled",!t.commentForm.valid||t.commentLoading),l(),s("ngIf",t.commentLoading),l(),s("ngIf",!t.commentLoading)}}function De(o,m){o&1&&(n(0,"div",98)(1,"p"),a(2,"Hen\xFCz yorum yap\u0131lmam\u0131\u015F. \u0130lk yorumu siz yap\u0131n!"),r()())}function Fe(o,m){o&1&&(n(0,"span",107),a(1,"\u2605"),r())}function Ve(o,m){o&1&&(n(0,"span",108),a(1,"\u2605"),r())}function ze(o,m){if(o&1&&(n(0,"div",99)(1,"div",100)(2,"div",26)(3,"div",101)(4,"span",102),a(5),r()(),n(6,"div")(7,"h4",103),a(8),r(),n(9,"p",44),a(10),r()()(),n(11,"div",26),h(12,Fe,2,0,"span",104)(13,Ve,2,0,"span",105),r()(),n(14,"p",106),a(15),r()()),o&2){let e=m.$implicit,i=c(2);l(5),_(e.userName.charAt(0)),l(3),_(e.userName),l(2),_(e.date),l(2),s("ngForOf",i.getStars(e.rating)),l(),s("ngForOf",i.getStars(5-e.rating)),l(2),_(e.text)}}function Oe(o,m){o&1&&(n(0,"span",119),a(1,"\u2605"),r())}function Me(o,m){if(o&1&&(n(0,"p",60),a(1),r()),o&2){let e=c().$implicit;l(),y("\u20BA",e.price,"/night")}}function Ae(o,m){o&1&&(n(0,"p",120),a(1,"\xDCye fiyat\u0131 i\xE7in giri\u015F yap\u0131n"),r())}function Re(o,m){if(o&1){let e=b();n(0,"div",112),g("click",function(){let t=u(e).$implicit,d=c(3);return p(d.goToHotelDetail(t.id))}),x(1,"img",113),n(2,"h3",114),a(3),r(),n(4,"div",115),h(5,Oe,2,0,"span",116),n(6,"span",117),a(7),r()(),h(8,Me,2,1,"p",33)(9,Ae,2,0,"p",118),r()}if(o&2){let e=m.$implicit,i=c(3);l(),s("src",e.imageUrl,H)("alt",e.name),l(2),_(e.name),l(2),s("ngForOf",i.getStars(e.rating)),l(2),_(e.rating),l(),s("ngIf",i.isAuthenticated),l(),s("ngIf",!i.isAuthenticated)}}function Ne(o,m){if(o&1&&(n(0,"div",109)(1,"h2",36),a(2,"You might also like"),r(),n(3,"div",110),h(4,Re,10,7,"div",111),r()()),o&2){let e=c(2);l(4),s("ngForOf",e.relatedHotels)}}function Ge(o,m){if(o&1){let e=b();n(0,"div",6)(1,"button",7),g("click",function(){u(e);let t=c();return p(t.goToSearchResults())}),f(),n(2,"svg",8),x(3,"path",9),r(),a(4," Back to Search Results "),r(),v(),n(5,"div",10)(6,"div",11)(7,"div",12)(8,"div",13)(9,"img",14),g("click",function(){u(e);let t=c();return p(t.openGallery(0))}),r(),n(10,"div",15)(11,"button",16),g("click",function(){u(e);let t=c();return p(t.openGallery(0))}),f(),n(12,"svg",17),x(13,"path",18),r(),a(14," View Gallery "),r()()()(),v(),n(15,"div",12)(16,"div",19)(17,"h1",20),a(18),r(),n(19,"button",21),g("click",function(){u(e);let t=c();return p(t.shareHotel())}),f(),n(20,"svg",22),x(21,"path",23),r()()(),v(),n(22,"p",24),a(23),r(),n(24,"div",25)(25,"div",26),h(26,ge,2,0,"span",27)(27,he,2,0,"span",28),r(),n(28,"span",29),a(29),r(),n(30,"button",30),g("click",function(){u(e);let t=c();return p(t.toggleRatingChart())}),a(31),r()(),n(32,"div",31),h(33,_e,6,2,"div",32)(34,fe,2,0,"div",33),r(),n(35,"button",34),g("click",function(){u(e);let t=c();return p(t.bookHotel())}),a(36),r()()()(),h(37,be,10,1,"div",35),n(38,"div",10)(39,"h2",36),a(40,"Amenities"),r(),n(41,"div",37),h(42,ye,6,1,"div",38),r()(),n(43,"div",10)(44,"h2",36),a(45,"Konum"),r(),n(46,"div",39)(47,"google-map",40),x(48,"map-marker",41),r()(),n(49,"div",42)(50,"p",43),a(51),r(),n(52,"p",44),a(53),r()()(),n(54,"div",10)(55,"div",45)(56,"h2",46),a(57),r(),h(58,Ce,2,1,"button",47)(59,we,2,0,"button",48),r(),h(60,Te,19,8,"div",49),n(61,"div",50),h(62,De,3,0,"div",51)(63,ze,16,6,"div",52),r()(),h(64,Ne,5,1,"div",53),r()}if(o&2){let e=c();l(9),s("src",e.hotel.imageUrl,H)("alt",e.hotel.name),l(9),_(e.hotel.name),l(5),E("",e.hotel.city,", ",e.hotel.country,""),l(3),s("ngForOf",e.getStars(e.getAverageRating())),l(),s("ngForOf",e.getStars(5-e.getAverageRating())),l(2),_(e.getAverageRating()),l(2),y(" ",e.getTotalCommentCount()," reviews "),l(2),s("ngIf",e.isAuthenticated),l(),s("ngIf",!e.isAuthenticated),l(2),y(" ",e.isAuthenticated?"Book Now":"Login to Book"," "),l(),s("ngIf",e.showRatingChart),l(5),s("ngForOf",e.hotel.amenities),l(5),s("options",e.mapOptions)("width","100%")("height","100%"),l(),s("position",e.hotelPosition)("options",e.markerOptions)("title",(e.hotel==null?null:e.hotel.name)||""),l(3),_(e.hotel==null?null:e.hotel.name),l(2),E("",e.hotel==null?null:e.hotel.city,", ",e.hotel==null?null:e.hotel.country,""),l(4),y("Guest Reviews (",e.getTotalCommentCount(),")"),l(),s("ngIf",e.isAuthenticated),l(),s("ngIf",!e.isAuthenticated),l(),s("ngIf",e.showCommentForm&&e.isAuthenticated),l(2),s("ngIf",e.hotelComments.length===0&&(e.hotel==null||e.hotel.comments==null?null:e.hotel.comments.length)===0),l(),s("ngForOf",e.hotelComments.length>0?e.hotelComments:e.hotel==null?null:e.hotel.comments),l(),s("ngIf",e.relatedHotels.length>0)}}function je(o,m){if(o&1){let e=b();n(0,"div",121),g("click",function(){u(e);let t=c();return p(t.closeGallery())}),n(1,"div",122),g("click",function(t){return u(e),p(t.stopPropagation())}),n(2,"button",123),g("click",function(){u(e);let t=c();return p(t.closeGallery())}),f(),n(3,"svg",124),x(4,"path",65),r()(),v(),x(5,"img",125),n(6,"button",126),g("click",function(){u(e);let t=c();return p(t.prevImage())}),f(),n(7,"svg",124),x(8,"path",9),r()(),v(),n(9,"button",127),g("click",function(){u(e);let t=c();return p(t.nextImage())}),f(),n(10,"svg",124),x(11,"path",128),r()(),v(),n(12,"div",129),a(13),r()()()}if(o&2){let e=c();l(5),s("src",e.galleryImages[e.currentImageIndex],H),l(8),E(" ",e.currentImageIndex+1," / ",e.galleryImages.length," ")}}var lt=(()=>{class o{constructor(){this.route=k(U),this.router=k(q),this.hotelService=k(ae),this.authService=k(le),this.commentService=k(se),this.formBuilder=k(te),this.hotel=null,this.hotelComments=[],this.loading=!0,this.commentLoading=!1,this.showRatingChart=!1,this.showFullGallery=!1,this.showCommentForm=!1,this.currentImageIndex=0,this.relatedHotels=[],this.commentForm=this.formBuilder.group({rating:[5,[I.required,I.min(1),I.max(5)]],text:["",[I.required,I.minLength(10)]]}),this.galleryImages=[],this.ratingDistribution=[{stars:5,count:0,percentage:0},{stars:4,count:0,percentage:0},{stars:3,count:0,percentage:0},{stars:2,count:0,percentage:0},{stars:1,count:0,percentage:0}],this.isAuthenticated=!1,this.mapOptions={zoom:15,mapTypeId:google.maps.MapTypeId.ROADMAP,styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]}]},this.markerOptions={draggable:!1},this.hotelPosition={lat:0,lng:0}}ngOnInit(){this.isAuthenticated=this.authService.isLoggedIn(),this.route.params.subscribe(e=>{let i=e.id;i&&this.loadHotelDetails(i)})}loadHotelDetails(e){this.loading=!0,this.hotelService.getHotelById(e).subscribe({next:i=>{i?(this.hotel=i,this.setupMap(),this.generateGalleryImages(),this.calculateRatingDistribution(),this.loadRelatedHotels(),this.loadHotelComments(e)):this.router.navigate(["/"]),this.loading=!1},error:()=>{this.loading=!1,this.router.navigate(["/"])}})}loadHotelComments(e){this.commentService.getCommentsByHotelId(e).subscribe({next:i=>{this.hotelComments=i,this.calculateRatingDistribution()},error:()=>{this.hotelComments=this.hotel?.comments||[]}})}setupMap(){this.hotel&&(this.hotelPosition={lat:this.hotel.coordinates.lat,lng:this.hotel.coordinates.lng},this.mapOptions=O(z({},this.mapOptions),{center:this.hotelPosition}))}generateGalleryImages(){this.hotel&&(this.hotel.galleryImages&&this.hotel.galleryImages.length>0?this.galleryImages=[this.hotel.imageUrl,...this.hotel.galleryImages]:this.galleryImages=[this.hotel.imageUrl,"https://images.unsplash.com/photo-1571003123894-1f0594d2b5d9?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80","https://images.unsplash.com/photo-1578774204375-4b1678e50eb8?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80","https://images.unsplash.com/photo-1590490360182-c33d57733427?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80","https://images.unsplash.com/photo-1582719478250-c89cae4dc85b?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80"])}calculateRatingDistribution(){let e=this.hotelComments.length>0?this.hotelComments:this.hotel?.comments||[];if(e.length===0)return;let i=e.length,t=[0,0,0,0,0];e.forEach(d=>{t[d.rating-1]++}),this.ratingDistribution=[{stars:5,count:t[4],percentage:i>0?t[4]/i*100:0},{stars:4,count:t[3],percentage:i>0?t[3]/i*100:0},{stars:3,count:t[2],percentage:i>0?t[2]/i*100:0},{stars:2,count:t[1],percentage:i>0?t[1]/i*100:0},{stars:1,count:t[0],percentage:i>0?t[0]/i*100:0}]}loadRelatedHotels(){this.hotel&&this.hotelService.getHotelsByCity(this.hotel.city).subscribe(e=>{this.relatedHotels=e.filter(i=>i.id!==this.hotel?.id).slice(0,3)})}toggleRatingChart(){this.showRatingChart=!this.showRatingChart}openGallery(e=0){this.currentImageIndex=e,this.showFullGallery=!0}closeGallery(){this.showFullGallery=!1}nextImage(){this.currentImageIndex=(this.currentImageIndex+1)%this.galleryImages.length}prevImage(){this.currentImageIndex=this.currentImageIndex>0?this.currentImageIndex-1:this.galleryImages.length-1}getStars(e){return Array(5).fill(!1).map((i,t)=>t<Math.floor(e))}shareHotel(){navigator.share&&this.hotel?navigator.share({title:this.hotel.name,text:`Check out this amazing hotel: ${this.hotel.name}`,url:window.location.href}):(navigator.clipboard.writeText(window.location.href),alert("Link copied to clipboard!"))}bookHotel(){if(!this.isAuthenticated){this.router.navigate(["/login"]);return}alert(`Booking functionality would be implemented here for ${this.hotel?.name}`)}goToSearchResults(){this.router.navigate(["/search-results"])}goToHotelDetail(e){this.router.navigate(["/hotel",e])}toggleCommentForm(){if(!this.isAuthenticated){this.router.navigate(["/login"]);return}this.showCommentForm=!this.showCommentForm}submitComment(){if(!this.commentForm.valid||!this.hotel)return;this.commentLoading=!0;let e={rating:this.commentForm.value.rating,text:this.commentForm.value.text};this.commentService.addComment(this.hotel.id,e).subscribe({next:i=>{this.hotelComments.unshift(i),this.calculateRatingDistribution(),this.commentForm.reset({rating:5,text:""}),this.showCommentForm=!1,this.commentLoading=!1,alert("Yorumunuz ba\u015Far\u0131yla eklendi!")},error:()=>{this.commentLoading=!1,alert("Yorum eklenirken bir hata olu\u015Ftu. L\xFCtfen tekrar deneyin.")}})}getStarArray(e){return Array(5).fill(0).map((i,t)=>t<e?1:0)}setRating(e){this.commentForm.patchValue({rating:e})}getTotalCommentCount(){return this.hotelComments.length>0?this.hotelComments.length:this.hotel?.commentCount||0}getAverageRating(){let e=this.hotelComments.length>0?this.hotelComments:this.hotel?.comments||[];if(e.length===0)return this.hotel?.rating||0;let i=e.reduce((t,d)=>t+d.rating,0);return Math.round(i/e.length*10)/10}static{this.\u0275fac=function(i){return new(i||o)}}static{this.\u0275cmp=R({type:o,selectors:[["app-hotel-detail"]],standalone:!0,features:[j],decls:4,vars:3,consts:[[1,"min-h-screen","bg-gray-50"],["class","flex justify-center items-center min-h-screen",4,"ngIf"],["class","max-w-7xl mx-auto px-4 py-6",4,"ngIf"],["class","fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50",3,"click",4,"ngIf"],[1,"flex","justify-center","items-center","min-h-screen"],[1,"animate-spin","rounded-full","h-12","w-12","border-b-2","border-blue-600"],[1,"max-w-7xl","mx-auto","px-4","py-6"],[1,"mb-6","flex","items-center","text-blue-600","hover:text-blue-800","transition-colors",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 19l-7-7 7-7"],[1,"bg-white","rounded-lg","shadow-md","p-6","mb-6"],[1,"flex","flex-col","lg:flex-row","gap-6"],[1,"lg:w-1/2"],[1,"relative"],[1,"w-full","h-80","object-cover","rounded-lg","cursor-pointer","hover:opacity-95","transition-opacity",3,"click","src","alt"],[1,"absolute","bottom-4","right-4"],[1,"bg-white","bg-opacity-90","px-3","py-1","rounded-lg","text-sm","font-medium","hover:bg-opacity-100","transition-all",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","inline","mr-1"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"],[1,"flex","justify-between","items-start","mb-4"],[1,"text-3xl","font-bold","text-gray-900"],[1,"p-2","text-gray-600","hover:text-blue-600","transition-colors",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z"],[1,"text-gray-600","mb-4"],[1,"flex","items-center","mb-6"],[1,"flex","items-center"],["class","text-yellow-400 text-xl",4,"ngFor","ngForOf"],["class","text-gray-300 text-xl",4,"ngFor","ngForOf"],[1,"ml-2","text-lg","font-semibold"],[1,"ml-4","text-blue-600","hover:text-blue-800","underline",3,"click"],[1,"mb-6"],["class","flex items-center",4,"ngIf"],["class","text-blue-600 font-semibold",4,"ngIf"],[1,"w-full","bg-blue-600","text-white","py-3","px-6","rounded-lg","font-semibold","hover:bg-blue-700","transition-colors",3,"click"],["class","fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",3,"click",4,"ngIf"],[1,"text-2xl","font-bold","mb-4"],[1,"grid","grid-cols-2","md:grid-cols-3","lg:grid-cols-4","gap-4"],["class","flex items-center p-3 bg-gray-50 rounded-lg",4,"ngFor","ngForOf"],[1,"relative","h-64","rounded-lg","overflow-hidden","map-container"],[3,"options","width","height"],[3,"position","options","title"],[1,"mt-4","text-center"],[1,"font-semibold","text-gray-800"],[1,"text-sm","text-gray-600"],[1,"flex","justify-between","items-center","mb-4"],[1,"text-2xl","font-bold"],["class","bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",3,"click",4,"ngIf"],["class","bg-gray-400 text-white px-4 py-2 rounded-lg hover:bg-gray-500 transition-colors",3,"click",4,"ngIf"],["class","bg-gray-50 rounded-lg p-4 mb-6",4,"ngIf"],[1,"space-y-4"],["class","text-center text-gray-500 py-8",4,"ngIf"],["class","border-b border-gray-200 pb-4 last:border-b-0",4,"ngFor","ngForOf"],["class","bg-white rounded-lg shadow-md p-6",4,"ngIf"],[1,"text-yellow-400","text-xl"],[1,"text-gray-300","text-xl"],["class","text-gray-500 line-through mr-2",4,"ngIf"],[1,"text-3xl","font-bold","text-blue-600"],[1,"text-gray-600","ml-2"],[1,"text-gray-500","line-through","mr-2"],[1,"text-blue-600","font-semibold"],[1,"fixed","inset-0","bg-black","bg-opacity-50","flex","items-center","justify-center","z-50",3,"click"],[1,"bg-white","rounded-lg","p-6","m-4","max-w-md","w-full",3,"click"],[1,"text-xl","font-bold"],[1,"text-gray-500","hover:text-gray-700",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"space-y-3"],["class","flex items-center",4,"ngFor","ngForOf"],[1,"w-8","text-sm"],[1,"flex-1","mx-3","bg-gray-200","rounded-full","h-4"],[1,"bg-yellow-400","h-4","rounded-full","transition-all","duration-500"],[1,"w-8","text-sm","text-gray-600"],[1,"flex","items-center","p-3","bg-gray-50","rounded-lg"],[1,"w-8","h-8","bg-blue-100","rounded-full","flex","items-center","justify-center","mr-3"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-blue-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],[1,"font-medium"],[1,"bg-blue-600","text-white","px-4","py-2","rounded-lg","hover:bg-blue-700","transition-colors",3,"click"],[1,"bg-gray-400","text-white","px-4","py-2","rounded-lg","hover:bg-gray-500","transition-colors",3,"click"],[1,"bg-gray-50","rounded-lg","p-4","mb-6"],[1,"text-lg","font-semibold","mb-3"],[3,"ngSubmit","formGroup"],[1,"mb-4"],[1,"block","text-sm","font-medium","text-gray-700","mb-2"],[1,"flex","space-x-1"],["type","button","class","text-2xl transition-colors",3,"text-yellow-400","text-gray-300","click",4,"ngFor","ngForOf"],["formControlName","text","rows","4","placeholder","Otel hakk\u0131ndaki deneyiminizi payla\u015F\u0131n...",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500"],["class","text-red-500 text-sm mt-1",4,"ngIf"],[1,"flex","justify-end"],["type","submit",1,"bg-blue-600","text-white","px-6","py-2","rounded-lg","hover:bg-blue-700","transition-colors","disabled:bg-gray-400",3,"disabled"],["class","inline-flex items-center",4,"ngIf"],[4,"ngIf"],["type","button",1,"text-2xl","transition-colors",3,"click"],[1,"text-red-500","text-sm","mt-1"],[1,"inline-flex","items-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","-ml-1","mr-3","h-4","w-4","text-white"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[1,"text-center","text-gray-500","py-8"],[1,"border-b","border-gray-200","pb-4","last:border-b-0"],[1,"flex","items-start","justify-between","mb-2"],[1,"w-10","h-10","bg-blue-100","rounded-full","flex","items-center","justify-center","mr-3"],[1,"font-semibold","text-blue-600"],[1,"font-semibold"],["class","text-yellow-400",4,"ngFor","ngForOf"],["class","text-gray-300",4,"ngFor","ngForOf"],[1,"text-gray-700","ml-13"],[1,"text-yellow-400"],[1,"text-gray-300"],[1,"bg-white","rounded-lg","shadow-md","p-6"],[1,"grid","md:grid-cols-3","gap-4"],["class","border rounded-lg p-4 hover:shadow-md transition-shadow cursor-pointer",3,"click",4,"ngFor","ngForOf"],[1,"border","rounded-lg","p-4","hover:shadow-md","transition-shadow","cursor-pointer",3,"click"],[1,"w-full","h-32","object-cover","rounded-lg","mb-3",3,"src","alt"],[1,"font-semibold","mb-1"],[1,"flex","items-center","mb-1"],["class","text-yellow-400 text-sm",4,"ngFor","ngForOf"],[1,"ml-1","text-sm","text-gray-600"],["class","text-blue-600 text-sm",4,"ngIf"],[1,"text-yellow-400","text-sm"],[1,"text-blue-600","text-sm"],[1,"fixed","inset-0","bg-black","bg-opacity-90","flex","items-center","justify-center","z-50",3,"click"],[1,"relative","max-w-4xl","max-h-full",3,"click"],[1,"absolute","top-4","right-4","text-white","hover:text-gray-300","z-10",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8"],[1,"max-w-full","max-h-full","object-contain",3,"src"],[1,"absolute","left-4","top-1/2","transform","-translate-y-1/2","text-white","hover:text-gray-300",3,"click"],[1,"absolute","right-4","top-1/2","transform","-translate-y-1/2","text-white","hover:text-gray-300",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 5l7 7-7 7"],[1,"absolute","bottom-4","left-1/2","transform","-translate-x-1/2","text-white","bg-black","bg-opacity-50","px-3","py-1","rounded-lg"]],template:function(i,t){i&1&&(n(0,"div",0),h(1,pe,2,0,"div",1)(2,Ge,65,30,"div",2)(3,je,14,3,"div",3),r()),i&2&&(l(),s("ngIf",t.loading),l(),s("ngIf",!t.loading&&t.hotel),l(),s("ngIf",t.showFullGallery))},dependencies:[Y,P,B,re,ne,oe,ie,W,Z,J,Q,X,ee],styles:[".map-container[_ngcontent-%COMP%]{border-radius:.5rem;overflow:hidden;box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f}google-map[_ngcontent-%COMP%]{border-radius:.5rem}.rating-bar[_ngcontent-%COMP%]{transition:width .5s ease-in-out}.gallery-thumbnail[_ngcontent-%COMP%]{transition:transform .2s ease-in-out}.gallery-thumbnail[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.amenity-icon[_ngcontent-%COMP%]{width:2rem;height:2rem;background-color:#dbeafe;border-radius:50%;display:flex;align-items:center;justify-content:center}.comment-avatar[_ngcontent-%COMP%]{width:2.5rem;height:2.5rem;background-color:#dbeafe;border-radius:50%;display:flex;align-items:center;justify-content:center}.modal-backdrop[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.hotel-card-hover[_ngcontent-%COMP%]{transition:all .3s ease-in-out}.hotel-card-hover[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 10px 25px #0000001a}"]})}}return o})();export{lt as HotelDetailComponent};
